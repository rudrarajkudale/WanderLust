<% layout("layout/boilerplate") %>
<div class="row min-vh-75">
    <div class="col-6 offset-3">
        <br><h3 class="h3-style">Login to Wanderlust</h3><br>
        <form id="loginForm" action="/user/login" method="post" novalidate class="needs-validation">
            <div class="mb-3"> 
                <label for="username" class="form-label">Username</label>
                <input name="username" type="text" class="form-control" required id="username"/>
            </div>
            <div class="mb-3"> 
                <label for="password" class="form-label">Password</label>
                <input name="password" type="password" class="form-control" required id="password"/>
            </div>
            <input type="hidden" name="userType" id="userType" value="user">
            <button class="btn btn-primary" type="submit">Login</button>
        </form>
        <br>
        <div class="mt-3">
            <p><i>These login options are provided for demonstration purposes only to explore the website's features. Please use them responsibly.</i></p>
            <button type="button" class="btn btn-secondary" onclick="setUserType('admin')">Admin Login</button>
            <button type="button" class="btn btn-primary" onclick="setUserType('user')">User Login</button>
        </div>
    </div>
</div>

<script>
    function setUserType(type) {
        const usernameField = document.getElementById('username');
        const passwordField = document.getElementById('password');
        const userTypeField = document.getElementById('userType');

        if (type === 'admin') {
            usernameField.value = "<%= admin_username %>";
            passwordField.value = "<%= adminPassword %>";
        } else if (type === 'user') {
            usernameField.value = "<%= user_username %>";
            passwordField.value = "<%= userPassword %>";
        }

        userTypeField.value = type;
        document.getElementById('loginForm').submit();
    }
</script>
